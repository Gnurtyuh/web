<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Dashboard - Quản trị viên</title>
  <link rel="stylesheet" href="admin.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/admin.js" defer></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
</head>
<body>
  <div class="admin-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>Admin Panel</h2>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li data-section="dashboard" class="active">
            <i class="fa fa-home"></i> Dashboard
          </li>
          <li data-section="create-course">
            <i class="fa fa-plus-circle"></i> Tạo khóa học
          </li>
          <li data-section="manage-courses">
            <i class="fa fa-edit"></i> Quản lý khóa học
          </li>
          <li data-section="manage-users">
            <i class="fa fa-users"></i> Quản lý người dùng
          </li>
          <li data-section="track-topup">
            <i class="fa fa-wallet"></i> Theo dõi nạp tiền
          </li>
          <li data-section="statistics">
            <i class="fa fa-chart-bar"></i> Thống kê
          </li>
          <li id="logout-btn">
            <i class="fa fa-sign-out-alt"></i> Đăng xuất
          </li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <section id="dashboard" class="content-section active">
        <h1>Dashboard</h1>
        <p>Chào mừng đến trang quản trị viên!</p>
        <div class="stats">
          <div class="stat-item">
            <h3 id="total-users">0</h3>
            <p>Tổng số người dùng</p>
          </div>
          <div class="stat-item">
            <h3 id="total-revenue">0 VNĐ</h3>
            <p>Doanh thu</p>
          </div>
          <div class="stat-item">
            <h3 id="top-course">Chưa có dữ liệu</h3>
            <p>Khóa học được mua nhiều nhất</p>
          </div>
        </div>
      </section>

      <section id="create-course" class="content-section">
        <h1>Tạo khóa học mới</h1>
        <form id="create-course-form">
          <label for="title">Tiêu đề khóa học</label>
          <input type="text" id="title" name="title" required />

          <label for="description">Mô tả</label>
          <textarea id="description" name="description" rows="4" required></textarea>

          <label for="price">Giá tiền (VNĐ)</label>
          <input type="number" id="price" name="price" min="0" required />

          <button type="submit" class="btn-submit">Tạo khóa học</button>
        </form>
      </section>

      <section id="manage-courses" class="content-section">
        <h1>Quản lý khóa học</h1>
        <table id="courses-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Tiêu đề</th>
              <th>Giá tiền (VNĐ)</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody>
            <!-- Danh sách khóa học sẽ load ở đây -->
          </tbody>
        </table>

        <div class="chapter-management">
    <h2>Quản lý chương học</h2>
    <form id="create-chapter-form">
      <label for="chapter-title">Tiêu đề chương</label>
      <input type="text" id="chapter-title" name="title" required />
      <label for="chapter-order">Thứ tự</label>
      <input type="number" id="chapter-order" name="order" min="1" required />
      <button type="submit" class="btn-submit">Tạo chương</button>
    </form>
    <table id="chapters-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tiêu đề</th>
          <th>Thứ tự</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody>
        <!-- Chapters will load here -->
      </tbody>
    </table>
  </div>

  <div class="lesson-management">
    <h2>Quản lý danh sách bài học</h2>
    <form id="create-lesson-form">
      <label for="chapter-select">Chọn chương</label>
      <select id="chapter-select" name="chapter" required>
        <option value="">Chọn chương</option>
        <!-- Populated dynamically -->
      </select>
      <label for="lesson-title">Tiêu đề bài học</label>
      <input type="text" id="lesson-title" name="title" required />
      <label for="lesson-content">Nội dung</label>
      <textarea id="lesson-content" name="content" rows="4"></textarea>
      <label for="lesson-video">Video URL</label>
      <input type="url" id="lesson-video" name="video_url" />
      <label for="lesson-order">Thứ tự</label>
      <input type="number" id="lesson-order" name="order" min="1" required />
      <button type="submit" class="btn-submit">Tạo bài học</button>
    </form>
    <table id="lessons-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tiêu đề</th>
          <th>Nội dung</th>
          <th>Video URL</th>
          <th>Thứ tự</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody>
        <!-- Lessons will load here -->
      </tbody>
    </table>
  </div>
      </section>

      <section id="manage-users" class="content-section">
        <h1>Quản lý người dùng</h1>
        <table id="users-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Tên đăng nhập</th>
              <th>Email</th>
              <th>Vai trò</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody>
            <!-- Danh sách người dùng sẽ load ở đây -->
          </tbody>
        </table>
      </section>

      <section id="track-topup" class="content-section">
        <h1>Theo dõi số tiền nạp</h1>
        <table id="track-topup-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Người dùng</th>
              <th>Số tiền đã nạp</th>
              <th>Ngày nạp</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dữ liệu theo dõi nạp tiền sẽ load ở đây -->
          </tbody>
        </table>
      </section>

      <section id="statistics" class="content-section">
        <h1>Thống kê</h1>
        <p>Biểu đồ thống kê số lượng người dùng và doanh thu theo tháng:</p>
        <canvas id="statisticsChart" width="700" height="400"></canvas>
      </section>
    </main>
  </div>
</body>
</html>
